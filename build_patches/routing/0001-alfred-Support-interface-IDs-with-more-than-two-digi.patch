From b6da43f0f7ef835c994e20d20a42507606505f30 Mon Sep 17 00:00:00 2001
From: Adrian Schmutzler <freifunk@adrianschmutzler.de>
Date: Mon, 19 Mar 2018 14:16:54 +0100
Subject: [PATCH] alfred: Support interface IDs with more than two digits

Signed-off-by: Adrian Schmutzler <freifunk@adrianschmutzler.de>
---
 alfred/files/alfred.init | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/alfred/files/alfred.init b/alfred/files/alfred.init
index 4c9a9e1..3b5fb3d 100755
--- a/alfred/files/alfred.init
+++ b/alfred/files/alfred.init
@@ -50,7 +50,7 @@ wait_for_ll_address()
 		# - on interface $iface
 		if awk '
 			BEGIN { RET=1 }
-			/^fe80.{37} [012389ab]/ { if ($6 == "'"$iface"'") RET=0 }
+			/^fe80.{37}[0-9a-f]? [012389ab]/ { if ($6 == "'"$iface"'") RET=0 }
 			END { exit RET }
 		' /proc/net/if_inet6; then
 			return
-- 
2.7.4

